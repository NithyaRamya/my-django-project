{% extends 'base.html' %}
{% load static %}

{% block title %}{{ servicebanner.title }}{% endblock %}

{% block content %}

<style>
  body, h1, h2, h3, p, a, span { font-family: 'Poppins', sans-serif; }
    
  .hero-section {
  position: relative;
  color: white;
  min-height: 100vh; /* fill full screen height */
  text-align: center;
  overflow: hidden; /* prevent white gaps */
}

.hero-section img.bg-img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover; /* ensures image fills area without gaps */
  object-position: center;
  z-index: -1;
}

    .hero-content {
      position: relative;
      z-index: 1;
      color: white;
      text-align: center;
      max-width: 900px;
      padding: 40px 20px;
      margin-top: 250px;
    }
    
    /* Top-left horizontal line */
    .hero-content::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 150px;
      height: 0;
      border-top: 4px solid #ffd700;
    }
    
    /* Bottom-right vertical line */
    .hero-content::after {
      content: '';
      position: absolute;
      bottom: 0;
      right: 0;
      width: 0;
      height: 120px;
      border-right: 4px solid #ffd700;
    }
    
    /* Bottom-right horizontal line */
    .top-right-line {
      content: '';
      position: absolute;
      bottom: 0;
      right: 0;
      width: 150px;
      height: 0;
      border-top: 4px solid #ffd700;
    }
    
    /* Bottom-left vertical line */
    .bottom-left-line {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 0;
      height: 120px;
      border-left: 4px solid #ffd700;
    }

    .btn-gold {
      background-color: #ffd700;
      color: #000;
      font-weight: bold;
      padding: 3px 12px;
      font-size: 0.9rem;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .hero-content {
        margin-top: 150px;
        padding: 20px;
      }
      .hero-content::before { width: 80px; }
      .top-right-line { width: 80px; }
      .hero-content::after { height: 80px; }
      .bottom-left-line { height: 80px; }
    }
    /* Corner line animations */
.hero-content::before {
  animation: drawHorizontal 1s ease-out forwards;
}

.hero-content::after {
  animation: drawVertical 1s ease-out forwards;
  animation-delay: 0.5s;
}

.top-right-line {
  animation: drawHorizontal 1s ease-out forwards;
  animation-delay: 0.5s;
}

.bottom-left-line {
  animation: drawVertical 1s ease-out forwards;
}

@keyframes drawHorizontal {
  from { width: 0; }
  to { width: 150px; }
}

@keyframes drawVertical {
  from { height: 0; }
  to { height: 120px; }
}

/* Smaller screens scaling */
@media (max-width: 768px) {
  @keyframes drawHorizontal {
    from { width: 0; }
    to { width: 80px; }
  }
  @keyframes drawVertical {
    from { height: 0; }
    to { height: 80px; }
  }
}
@media (max-width: 768px) {
  /* Hero section adjustments */
  .hero-section {
    flex-direction: column;
    text-align: center;
    padding: 20px;
  }
  .hero-section h1 {
    font-size: 1.8rem;
    line-height: 1.4;
  }
  .hero-section p {
    font-size: 1rem;
  }

  /* Why choose us circular cards */
  .custom-row .rounded-circle {
    width: 140px !important;
    height: 140px !important;
    padding: 20px !important;
  }
  .custom-row p {
    font-size: 0.85rem;
  }

  /* Features section image */
  .col-md-4 img {
    max-width: 80%;
    height: auto;
  }

  /* Review cards */
  .review-card .bg-img {
    height: 180px;
  }
  .review-card .review-box {
    width: 90%;
    padding: 10px;
  }
  .review-card h5 {
    font-size: 1rem;
  }
  .review-card p {
    font-size: 0.85rem;
  }

  /* Services section spacing */
  .services-section span {
    font-size: 0.85rem !important;
    padding: 4px 8px !important;
  }

  /* Footer stacking */
  footer > div {
    flex-direction: column;
    text-align: center;
  }
  footer img {
    margin: auto;
  }

  footer, footer > div {
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
}
@media (max-width: 960px) {   /* adjust breakpoint as needed */
    footer {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        text-align: center;
        flex-wrap: wrap;
    }

    footer h2, 
    footer h3, 
    footer p, 
    footer a {
        text-align: center;
        margin: 5px 0;
    }
}

}

/* Extra small devices */
@media (max-width: 480px) {
  .hero-section h1 {
    font-size: 1.5rem;
  }
  .hero-section p {
    font-size: 0.9rem;
  }
  .custom-row .rounded-circle {
    width: 120px !important;
    height: 120px !important;
  }
  .review-card .bg-img {
    height: 150px;
  }
}
.custom-row {
    row-gap: 3rem; /* vertical gap */
    column-gap: 2rem; /* horizontal gap */
}
img.img-fluid {
    object-fit: cover;
    width: 100%;
    height: 250px; /* uniform height */
}
 /* Target the 2nd card in the row */
  .row.g-4 .col-md-6:nth-child(2) {
    margin-top: -30px;
    margin-bottom: 60px;
     /* adjust this value to move more/less */
  }

  
      /* Review card container */
  .review-card {
    border: none;
    border-radius: 20px;
    overflow: hidden;
    position: relative;
    max-width: 300px;
    height:350px;
    margin: auto;
    background: white; /* Fallback if no image */
  }

  /* Background image */
  .review-card .bg-img {
    width: 100%;
    height: 350px;
    object-fit: cover;
    display: block;
  }

  /* White floating review box */
  .review-card .review-box {
    background: white;
    border-radius: 15px;
    padding: 15px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    position: absolute;
    bottom: 15px; /* Creates gap between box and card bottom */
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    max-height: 180px; /* Enough height for short reviews */
  }

  /* Profile image */
  .review-card .profile-pic {
    width: 50px;
    height: 50px;
    object-fit: cover;
    border-radius: 50%;
    border: 3px solid white;
    position: absolute;
    top: -25px; /* Floating above box */
    left: 50%;
    transform: translateX(-50%);
  }

  /* Reviewer name */
  .review-card h5 {
    font-weight: bold;
    margin-top: 25px; /* Adjust for profile image overlap */
    font-size: 16px;
  }

  /* Review text */
  .review-card p {
    font-size: 8px;
    color: #555;
    margin-bottom: 10px;
  }

  /* Stars */
  .review-card .stars {
    color: gold;
    font-size: 14px;
  }

  /* Middle card lifted */
  
.five-words-line {
    line-height: 1.6;
    margin-top: 5px;
    max-width: 30ch; /* around 5 average-length words */
    word-wrap: break-word;
}
.contact-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.contact-list li {
    display: flex;
    align-items: center;
    gap: 10px; /* space between icon and text */
    margin-bottom: 10px;
}

.contact-list a {
    background-color: #FFD700; /* yellow circle */
    color: #0B0C45; /* dark blue icon color */
    width: 35px;
    height: 35px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    text-decoration: none;
}

.contact-list a:hover {
    background-color: #ffcc00; /* hover yellow */
}

{% comment %} about-us page {% endcomment %}
.about-section h2 {
  font-weight: 700;
  margin-bottom: 20px;
}

.about-section p {
  font-size: 1rem;
  line-height: 1.7;
  color: #333;
}

.about-section img {
  border-radius: 15px;
  transition: transform 0.3s ease;
}

.about-section img:hover {
  transform: scale(1.03);
}

</style>
{% for banner in banners %}
  <!-- First Banner -->
  <section class="container my-5">
    <h2 class="text-center fw-bold">{{ banner.first_banner_heading }}</h2>
    <p class="text-center text-muted">{{ banner.first_banner_description }}</p>
  </section>

  <!-- Second Banner -->
  <section class="container my-5">
    <div class="row align-items-center">
      <div class="col-md-6">
        <h2>{{ banner.second_banner_heading }}</h2>
        <p>{{ banner.second_banner_description }}</p>
      </div>
      {% if banner.second_banner_image %}
      <div class="col-md-6">
        <img src="{{ banner.second_banner_image.url }}" class="img-fluid rounded shadow" alt="{{ banner.second_banner_heading }}">
      </div>
      {% endif %}
    </div>
  </section>


 <!-- Third Banner -->
  <section class="container my-5">
    <div class="row align-items-center">
      <div class="col-md-6">
        <h2>{{ banner.third_banner_heading }}</h2>
        <p>{{ banner.third_banner_description }}</p>
      </div>
      {% if banner.third_banner_image %}
      <div class="col-md-6">
        <img src="{{ banner.third_banner_image.url }}" class="img-fluid rounded shadow" alt="{{ banner.third_banner_heading }}">
      </div>
      {% endif %}
    </div>
  </section>
{% endfor %}


<section class="py-5">
  <div class="container">
    <!-- Carousel -->
    <div id="firstBannerCarousel" class="carousel slide mb-4" data-bs-ride="carousel">
      <div class="carousel-inner">
        {% for slide in first_banner_slides %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <img src="{{ slide.image.url }}" class="d-block w-100" alt="{{ slide.title }}">
          <div class="carousel-caption d-none d-md-block">
       </div>
        </div>
        {% endfor %}
      </div>
    </div>
 <!-- Text + Optional Image -->
    {% for section in first_banner_slides %}
    <div class="row align-items-jusitfy mb-5">
      <div class="col-md-12 {% if forloop.counter|divisibleby:2 %}order-md-2{% endif %}">
        {% comment %} <h3 style="text-align:center" >{{ section.title }}</h3> {% endcomment %}
        <h1 style="text-align:center" ><span style="color:#FFD700;">{{ section.title  }}</span> We Provide </h1>
        <p style="font-size: 1.5rem; margin-top:20px;">{{ section.description }}</p>
      </div>
      
    {% endfor %}
  </div>
</section>
    
    <!-- Service Images Grid -->
    <div class="row g-3">
      {% for services_section in services_section %}
        {% if forloop.counter0|divisibleby:2 %}<div class="row g-3">{% endif %}

        {% if forloop.counter0 < 2 or forloop.counter0|divisibleby:4 or forloop.counter0|add:"-1"|divisibleby:4 %}
          <div class="col-md-6">
        {% else %}
          {% if forloop.counter|divisibleby:2 %}
            <div class="col-md-4">
          {% else %}
            <div class="col-md-8">
          {% endif %}
        {% endif %}

          <div class="position-relative">
            <img src="{{ services_section.image.url }}" alt="{{ services_section.title }}" class="img-fluid rounded shadow">
            <span class="position-absolute bottom-0 start-0 m-2 px-3 py-1 text-white fw-bold rounded"
                  style="background-color: #001f54;">
              {{ services_section.title }}
            </span>
          </div>
        </div>

        {% if forloop.counter|divisibleby:2 or forloop.last %}</div>{% endif %}
      {% endfor %}
    </div>
  </div>
</section>

<section class="py-5 bg-light" style="width:100%">
  <div class="container">
    <!-- Carousel -->
    <div id="secondBannerCarousel" class="carousel slide mb-5 " data-bs-ride="carousel" >
      <div class="carousel-inner">
        {% for slide in second_banner_slides %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <img src="{{ slide.image.url }}" class="d-block w-100 carousel-img" alt="{{ slide.title }}" data-target="desc-{{ forloop.counter }}">
          <div class="carousel-caption d-none d-md-block">       
        </div>
        </div>
        {% endfor %}
      </div>
       <!-- Left arrow -->
  <button class="carousel-control-prev" type="button" data-bs-target="#secondBannerCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>

  <!-- Right arrow -->
  <button class="carousel-control-next" type="button" data-bs-target="#secondBannerCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
    </div>
{% for section in second_banner_slides %}
  <div id="desc-{{ forloop.counter }}" class="row align-items-center mb-5 g-0" style="background-color: #fbf9ba;">
    
    <!-- Left Column (Text) -->
     <h3 class="fw-bold mt-5 px-5 text-left">{{ section.title|safe }}</h3>
    <div class="col-md-6 px-5 py-3">        

      <p style="font-size: 1.2rem; margin-top:20px; width:140%">
        {{ section.description }}
      </p>
    </div>

    <!-- Right Column (Image) -->
    {% if section.second_image %}
      <div class="col-md-6 d-flex justify-content-center align-items-start px-4">
        <img src="{{ section.second_image.url }}" 
             alt="{{ section.title }}" 
             class="img-fluid"
             style="max-height:80vh; width:auto; object-fit:contain;">
      </div>
    {% endif %}
    
  </div>
{% endfor %}

</section>


{% comment %} third banner {% endcomment %}
{% comment %} 
<section class="py-5 bg-light">
  <div class="container">
    <!-- Carousel -->
    <div id="thirdBannerCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
      <div class="carousel-inner">
        {% for slide in third_banner_slides %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <img src="{{ slide.image.url }}" class="d-block w-100" alt="{{ slide.title }}">
          <div class="carousel-caption d-none d-md-block">       
        </div>
        </div>
        {% endfor %}
      </div>
    </div>

    <!-- Text + Optional Image -->
    {% for section in third_banner_slides %}
    <div class="row align-items-center mb-5" style="background-color: #fbf9ba;">
      <div class="col-md-6 {% if forloop.counter|divisibleby:2 %}order-md-2{% endif %}">
        <h3  >{{ section.title }}</h3>
        <p style="font-size: 1.5rem; margin-top:20px;">{{ section.description }}</p>
      </div>
      {% if section.second_image %}
      <div class="col-md-6 {% if forloop.counter|divisibleby:2 %}order-md-1{% endif %}">
        <img src="{{ section.second_image.url }}"  alt="{{ section.title }}">
      </div>
      {% endif %}
    </div>
    {% endfor %}
  </div>
</section> {% endcomment %}
<script>
  document.addEventListener("DOMContentLoaded", function() {
    document.querySelectorAll(".carousel-img").forEach(img => {
      img.addEventListener("click", function() {
        let targetId = this.getAttribute("data-target");
        let targetElement = document.getElementById(targetId);

        if (targetElement) {
          targetElement.scrollIntoView({ behavior: "smooth", block: "start" });
        }
      });
    });
  });
</script>

{% endblock %}